<html th:replace="~{layout/baseAdmin :: html}">

<div th:fragment="contenido">
    <div class="container mt-4"><h2 class="mb-4">Crear Coleccion</h2>

        <form id="crearColeccionForm" th:action="@{/admin/colecciones}" method="post">
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="titulo" class="form-label">Titulo <span style="color: red;">*</span></label>
                    <input id="titulo" type="text" name="titulo" class="form-control" required/>
                </div>
                <div class="col-md-6">
                    <label for="descripcion" class="form-label">Descripcion <span style="color: red;">*</span></label>
                    <input id="descripcion" type="text" name="descripcion" class="form-control" required/>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-8">
                    <label for="fuenteUrl" class="form-label">Fuente URL <span style="color: red;">*</span></label>
                    <input type="text" id="fuenteUrl" name="fuenteUrl" class="form-control" required/>
                </div>
                <div class="col-md-4">
                    <label for="tipoFuente" class="form-label">Tipo Fuente <span style="color: red;">*</span></label>
                    <select id="tipoFuente" name="tipoFuente" class="form-select" required>
                        <option value="" disabled selected>Selecciona...</option>
                        <option value="PROXY">PROXY</option>
                        <option value="DINAMICA">DINAMICA</option>
                        <option value="ESTATICA">ESTATICA</option>
                    </select>
                </div>
            </div>

            <div class="mt-4">
                <button class="btn btn-success" type="submit">CREAR</button>
            </div>

        </form>

        <div class="mt-3">
            <a th:href="@{/admin/colecciones}" class="text-muted small">Cancelar y volver</a>
        </div>

    </div>
</div>
</html>
<script>
    function removeProtocols(url) {
        return url.replace(/^(https?:\/\/)/i, '');
    }

    $(document).ready(function() {

      $('#crearColeccionForm').submit(function(event) {
        event.preventDefault();

        const $urlInput = $('#fuenteUrl');
        const originalUrl = $urlInput.val();
        const cleanedUrl = removeProtocols(originalUrl);
        $urlInput.val(cleanedUrl);

        this.submit();
      });
    });
</script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
<link rel="stylesheet" th:href="@{/css/landing.css}">
